<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Slate developer docs</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://slateapp.com'>Get your beautiful presentations now</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to the Slate developer docs! The aim of these docs is to guide you through what&rsquo;s possible with Chalk and best practces for each section of your Slate site.</p>

<p>You can view code examples in the area to the right, with explanations on the left.</p>

<h1 id="getting-started">Getting started</h1>

<p>Your new Slate account will come with a default theme out of the box. We suggest your first steps are to familiarise yourself with the different templates, and what each one is used for.</p>

<p>Chalk is based on Twig, and follows the same principles.</p>

<h1 id="fundamentals">Fundamentals</h1>

<h2 id="layout">Layout</h2>
<pre class="highlight php"><code>{layout "html"}
</code></pre>

<p>Each whole-page template should start with the layout it will use.</p>

<p>Layouts are used to speed up development, providing the main structure, as well as resuable blocks. Using a block in your template will overwrite the block defined in the layout. See below for more info on the block system.</p>

<p>In most cases, you will just need to use the &lsquo;HTML&rsquo; template, but you can create as many layouts as you want. See below for more info on the HTML template.</p>

<h2 id="block-system">Block System</h2>
<pre class="highlight php"><code>{block header}
    {include "header"}
{endblock}
{block content}
{endblock}
{block footer}
    {include "footer"}
{endblock}
</code></pre>

<p>Inside your layout, you define how the page will be structured, and where other templates can inject their content.</p>

<p>Content inside a block in the layout template acts as a default, and will be used until overridden.</p>

<p>The basic structure for a layout is on the right.</p>

<h2 id="includes">Includes</h2>
<pre class="highlight php"><code>{include "alt_footer"}
</code></pre>

<p>Include any other template inside another one, useful for reusing code blocks, and hiding complexity from the main template.</p>

<p>Template name must be in quotes.</p>

<h2 id="debug">Debug</h2>

<p>Add <code class="prettyprint">{debug(object)}</code> to your templates, where <em>object</em> is the item you want to see available tags for.</p>

<p>This will output an array of data contained in that object.</p>

<aside class="notice"><code>debug</code> has to be used inside a block or it will throw an error.</aside>

<h2 id="filters">Filters</h2>

<p>The below is a list of common filters you can use to modify what an object&rsquo;s output. For example <code class="prettyprint">{director.biography|striptags}</code> would remove any html found in the director&rsquo;s biography. Filters are initiated with a <code class="prettyprint">|</code>.</p>

<table><thead>
<tr>
<th>Helper</th>
<th>Arguments</th>
</tr>
</thead><tbody>
<tr>
<td>date</td>
<td></td>
</tr>
<tr>
<td>length</td>
<td></td>
</tr>
<tr>
<td>lower</td>
<td><em>none</em></td>
</tr>
<tr>
<td>raw</td>
<td></td>
</tr>
<tr>
<td>replace</td>
<td></td>
</tr>
<tr>
<td>resize</td>
<td><ul><li>width</li><li>height</li><li>method<ul><li>resize (default)</li><li>crop</li></ul></li></ul></td>
</tr>
<tr>
<td>striptags</td>
<td></td>
</tr>
<tr>
<td>title</td>
<td></td>
</tr>
<tr>
<td>trim</td>
<td></td>
</tr>
<tr>
<td>upper</td>
<td><em>none</em></td>
</tr>
</tbody></table>

<aside class="notice">You must always use <code>|resize(width, height, method)</code> when serving images. Do not reference the <code>remote_path</code> directly.</aside>

<h2 id="settings">Settings</h2>
<pre class="highlight php"><code>{settings.company_name}
{settings.domain}
{settings.contact_email}
{settings.phone_number}

{settings.addresses.address}
{settings.addresses.address_next}
{settings.addresses.city}
{settings.addresses.post_code}
{settings.addresses.country}

{settings.socials.facebook}
{settings.socials.twitter}

{settings.seo.global_title}
{settings.seo.global_description}

{settings.logo}
</code></pre>

<p>Slate users are able to manage a lot of their basic settings, such as Company name, social profiles and logo from within their account. All of this data is available to use in the templates, to avoid hard coding anything.</p>

<p>Make use of this in footers and contact pages etc.</p>

<h2 id="site">Site</h2>
<pre class="highlight php"><code>{site.pathname}
{site.url}
{site.uri}
{site.pathname}

</code></pre>

<p>In order to check the active page or perform anything more complex using the url, you&rsquo;ll need access to the <code class="prettyprint">site</code> object.</p>

<h1 id="assets">Assets</h1>
<pre class="highlight php"><code>{asset name="asset.ext"}
</code></pre>

<h1 id="custom-attributes">Custom Attributes</h1>

<h1 id="templates">Templates</h1>

<h2 id="html">HTML</h2>

<p>This is the master layout file, and where you should define your core structure, add meta tags and css and js assets.</p>

<p>This template is then used in all your other &#39;page-based&rsquo; templates.</p>

<h3 id="js">JS</h3>

<p>Javascript should be included before the closing body tag.</p>

<p>The default theme comes with a predefined block for custom javascript assets. Reuse that block in other templates to add non-global javascript to individual pages.</p>

<h3 id="css">CSS</h3>

<p>The default theme comes with a predefined block for custom css assets. Reuse that block in other templates to add non-global javascript to individual pages.</p>

<h2 id="home">Home</h2>
<pre class="highlight php"><code>{block content}
    {for spotlight in spotlights.home order="random"}
        {spotlight.title}
        <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"{spotlight.object.thumbnail|resize(780, 480, 'crop')}"</span><span class="nt">&gt;</span>
        {spotlight.description}
        <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/directors/{spotlight.artist.slug}"</span><span class="nt">&gt;</span>{spotlight.artist.name}<span class="nt">&lt;/a&gt;</span>
    {endfor}
{endblock}
</code></pre>

<p>The home template is used to generate the view on the root of the domain.</p>

<p>The main block to replace on this page is <code class="prettyprint">{block content}</code> which will hold all of your content.</p>

<p>Other blocks can be used to add custom footers or headers, or to set the meta title and descriptions.</p>

<h2 id="header">Header</h2>

<p>Usually where you put your site&rsquo;s navigation etc. The header template needs to be included in other templates to be used. It comes packaged in <code class="prettyprint">{block header}</code> in the default HTML template.</p>

<h2 id="footer">Footer</h2>

<p>Works as per the header.</p>

<h2 id="director-listing">Director Listing</h2>
<pre class="highlight php"><code>{for director in directors sort="name"}
  <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/directors/{director.slug}"</span><span class="nt">&gt;</span>{director.name}<span class="nt">&lt;/a&gt;</span>
  <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"{director.avatar|resize(800, 450, 'crop')}"</span><span class="nt">&gt;</span>
{endfor}
</code></pre>

<p>This template controls the layout and content of <code class="prettyprint">/directors/</code>.</p>

<p>Shows a list of all published directors.</p>

<p>If your client would like to control the order of the directors manually, you&rsquo;ll need to create a spotlight.</p>

<table><thead>
<tr>
<th>Option</th>
<th>Parameters</th>
</tr>
</thead><tbody>
<tr>
<td>sort</td>
<td><ul><li>name</li><li>publication_date</li><li>other</li></ul></td>
</tr>
<tr>
<td>order</td>
<td><ul><li>ASC</li><li>DESC</li></ul></td>
</tr>
<tr>
<td>start</td>
<td><em>integer</em></td>
</tr>
<tr>
<td>limit</td>
<td><em>integer</em></td>
</tr>
</tbody></table>

<h2 id="director-profile">Director Profile</h2>
<pre class="highlight php"><code>{director.name}
{director.biography|raw}
<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"{director.avatar|resize(600, 340, 'crop')}"</span><span class="nt">&gt;</span>
{for content_type in director.content_types}
    {content_type}
{endfor}

{for region in director.regions_list}
    {region}
{endfor}

{for award in director.awards}
    {award.name}
    <span class="c">&lt;!--{award.project}--&gt;</span>
    {award.year}
    {award.url}
{endfor}
</code></pre>

<h2 id="recent-work-listing">Recent Work Listing</h2>
<pre class="highlight php"><code>{for work in recent_works}

    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/work/{work.urlname}"</span><span class="nt">&gt;</span>{work.title}<span class="nt">&lt;/a&gt;</span>
    {work.associated_media.client.name}
    {work.associated_media.agency.name}
    {work.associated_media.artists_names[0]}

    <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"{work.associated_media.thumbnail|resize(800,450,'crop')}"</span><span class="nt">&gt;</span>

{endfor}
</code></pre>

<h2 id="recent-work-view">Recent Work View</h2>
<pre class="highlight php"><code>{work.title}
{work.associated_media.description|raw}
{work.associated_media.thumbnail|resize(800, 450, 'crop')}

{player}
</code></pre>

<h2 id="showreel">Showreel</h2>
<pre class="highlight php"><code>{if showreel.is_expired}
    <span class="nt">&lt;p&gt;</span>This showreel has expired.<span class="nt">&lt;/p&gt;</span>
{elseif showreel.is_deleted}
    <span class="nt">&lt;p&gt;</span>This showreel has been deleted.<span class="nt">&lt;/p&gt;</span>
{else}

{showreel.name}
{showreel.description}

    {for work in showreel.media}

        {work.title}
        {work.client.name}
        <span class="nt">&lt;img</span>  <span class="na">src=</span><span class="s">"work.thumbnail|resize(800, 450, 'crop')}"</span> <span class="na">data-player-item</span> <span class="na">data-mixed-media</span> <span class="na">data-action=</span><span class="s">"play"</span> <span class="na">data-playlist-item=</span><span class="s">"{loop.index0}"</span> <span class="na">data-player=</span><span class="s">"showreel"</span><span class="nt">&gt;</span>

    {endfor}

    {player name="showreel" media=showreel.media advance=true autoplay=false loop=false type="mixed" noembed=true}

    {if not user_device.mobile and showreel.download_allowed}<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">data-download-showreel=</span><span class="s">"{showreel.id}"</span> <span class="na">data-player=</span><span class="s">"showreel"</span><span class="nt">&gt;</span>Download Reel<span class="nt">&lt;/a&gt;</span>{endif}

    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"{asset name='player.events.js'}"</span><span class="nt">&gt;&lt;/script&gt;</span>

{endif}
</code></pre>

<h2 id="project">Project</h2>
<pre class="highlight php"><code>{director.name}
</code></pre>

<h2 id="project-folder">Project Folder</h2>
<pre class="highlight php"><code>{director.name}
</code></pre>

<h2 id="resource-access-form">Resource Access Form</h2>
<pre class="highlight php"><code>{director.name}
</code></pre>

<h2 id="news-listing">News Listing</h2>
<pre class="highlight php"><code>{for article in news}

    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/news/view/{article.urlname}"</span><span class="nt">&gt;</span>{article.title}<span class="nt">&lt;/a&gt;</span>
    {article.publication_date|date("d.m.y")}

    <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"url({article.artwork|resize(800,450,'crop')})"</span><span class="nt">&gt;</span>
    {article.teaser|raw}

    {if article.layout_type == "news"}

    {elseif article.layout_type == "link"}

        <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{article.link}"</span><span class="nt">&gt;</span>Visit link<span class="nt">&lt;/a&gt;</span>

    {elseif article.layout_type == "clip"}

        <span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">"background-image: url({article.artwork|resize(900, 570, 'crop')});"</span><span class="nt">&gt;</span>
            {player name=article.urlname clip=article.associated_clip noembed=true}
        <span class="nt">&lt;/div&gt;</span>

    {elseif article.layout_type == "director"}

        <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/directors/{article.associated_director.slug}"</span><span class="nt">&gt;</span>{article.associated_director.name}<span class="nt">&lt;/a&gt;</span>
        <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"{article.artwork|resize(900, 570, 'crop')}"</span><span class="nt">&gt;</span>

    {endif}

{endfor}
</code></pre>

<h2 id="news-article">News Article</h2>
<pre class="highlight php"><code>{article.title}
{article.publication_date|date("d.m.y")}

{article.content|raw}

<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"{article.artwork|resize(680, 270, 'crop')}"</span><span class="nt">&gt;</span>

{if article.photos is not empty}
    {for photo in article.photos}
        <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"{photo|resize(800, 450, 'crop')}"</span><span class="nt">&gt;</span>
    {endfor}
{endif}

{for video in article.clips}
    <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"{video.thumbnail|resize(600, 340, 'crop')}"</span> <span class="na">data-mixed-media</span> <span class="na">data-playlist-item=</span><span class="s">"{loop.index0}"</span> <span class="na">data-action=</span><span class="s">"play"</span> <span class="na">data-player=</span><span class="s">"article_video"</span><span class="nt">&gt;</span>
{endfor}
</code></pre>

<h2 id="photographer-listing">Photographer Listing</h2>
<pre class="highlight php"><code>{director.name}
</code></pre>

<h2 id="photographer-profile">Photographer Profile</h2>
<pre class="highlight php"><code>{director.name}
</code></pre>

<h2 id="player-embed-form">Player Embed Form</h2>
<pre class="highlight php"><code>{director.name}
</code></pre>

<h2 id="player-embedded">Player Embedded</h2>
<pre class="highlight php"><code>{director.name}
</code></pre>

<h1 id="player">Player</h1>
<pre class="highlight php"><code>{director.name}
</code></pre>

<h1 id="pages">Pages</h1>

<h2 id="using-layouts">Using layouts</h2>

<h2 id="placeholders">Placeholders</h2>

<h1 id="location-based-controls">Location based controls</h1>

<h1 id="useful-snippets">Useful Snippets</h1>

<h2 id="next-and-previous-news">Next and Previous News</h2>

<h2 id="multi-video-recent-work-pages">Multi video recent work pages</h2>
<pre class="highlight php"><code>
</code></pre>

<p>This works in conjunction with a custom attribute, with a comma separated list of video IDs.</p>

<h2 id="load-different-images-for-mobile">Load different images for mobile</h2>

<blockquote>
<p>object will be relavant to the content - showreel/spotlight etc.</p>
</blockquote>
<pre class="highlight php"><code>{if user_device.mobile and not user_device.tablet }
    {set img_url = object.thumbnail|resize(640,360, 'resize')}
{elseif user_device.tablet and not user_device.mobile}
    {set img_url = object.thumbnail|resize(502,282, 'resize')}
{else}
    {set img_url = object.thumbnail|resize(549,309, 'crop')}
{endif}
</code></pre>

<blockquote>
<p>img_url can then be used in the src in your loops</p>
</blockquote>

<p>Using the device detection, you can set different image sizes to load, to reduce page size for mobile.</p>

<h2 id="linking-to-specifc-videos-on-a-director-39-s-profile">Linking to specifc videos on a director&rsquo;s profile</h2>
<pre class="highlight php"><code>{set auto_play = site.url matches "/play\\/(.*)/" ? 1 : 0}

{if auto_play == 1}
    {set uri_parts = site.url|split('/')}
    {set selected_clip_urlname = uri_parts[uri_parts|length-1]}
{endif}

{ set selected_clip = null }
{ set selected_clip_index = 0 }

{set player_media = director.published_showreels[0].clips}

{if selected_clip_urlname }
    { for media in player_media}
        { if media.urlname == selected_clip_urlname }
            { set selected_clip_index = loop.index0 }
            { set selected_clip = media }
        { endif }
    { endfor }
{endif}

{if not selected_clip}
    { set selected_clip = player_media[0] }
{endif}
</code></pre>

<p>By adding <code class="prettyprint">data-clip-id={work.id}</code> to each item in your list of videos on a director&rsquo;s profile, you can make use of in built pushstates.</p>

<p>When accessing one of these urls directly, it will set the <code class="prettyprint">selected_clip</code>, and you can then use that to change the first video that loads on the page.</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
